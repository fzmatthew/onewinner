{"version":3,"sources":["webpack:///./src/views/demo/index.vue?aca0","webpack:///./src/views/demo/index.vue","webpack:///src/views/demo/index.vue"],"names":["views_demo","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","height","_v","attrs","target","href","margin","_s","onewinner_address","round","less_time_show","bet_price","last_winner_reward","last_winner_address","winner_reward","winner_inviter_reward","winner_address","last_airdrop","last_airdrop_address","airdrop","luck_num","my_bet_count","total_bet_count","my_win_rate","step","label","model","value","callback","$$v","bet_count","expression","on","click","$event","send_bet","account_address","directives","name","rawName","user_name","placeholder","register_name","send_register","my_vault","my_jackpot_stat","my_airdrop_stat","my_invite_reward_stat","my_invite_jackpot_reward_stat","my_invate_airdrop_reward_stat","my_ess_airdrop_stat","send_withdraw","_l","tx","index","address","bet_time","win","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","demo","__webpack_exports__","components","data","decimals","onewinnerAddress","end_time","less_time","tx_list","timer","mounted","checkweb3","console","log","_vue","window","eventQueue","loopBlock","lastblock","web3","eth","getBlockNumber","then","newblock","init_round","load_account","load_vault","load_txlist","getBlock","blockinfo","i","transactions","length","txhash","queuehash","funcname","eval","ex","eth_account","methods","onewinnerContract","withdraw","send","from","gasPrice","utils","toWei","err","txreceipt","withdraw_done","price","invite_id","localStorage","getItem","isNaN","parseInt","register","register_done","usewallet","toString","bet","bet_done","getTransactionReceipt","logs","hexToNumber","getAddressByUserName","call","inviter_address","valueOf","getUserIdByAddress","inviter_id","setItem","load_round","betPrice","fromWei","round_index","getEndTime","nowTime","Math","floor","Date","getTime","setInterval","day","hour","minute","second","clearInterval","getReward","Number","toFixed","winner","isRun","airdropWinner","airdropWinnerReward","luckNum","getBetCount","getMyBetCount","getUserNameByAddress","getTxList","_tx_list_data","_address","_betCount","_timeStamp","_betTime","format","_luckNum","_win","myVault","getStatJackpotReward","getStatAirdropReward","getStatInviterReward","getStatInviterJackpotReward","getStatInviterAirdropReward","getStatEssAirdropReward"],"mappings":"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","file":"js/1.6736fe2cff2ac2067412.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"wrap\",staticStyle:{\"height\":\"1000px\"}},[_vm._v(\"\\r\\n   这是首页这是首页\\r\\n\\r\\n   \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"http://element.eleme.io/#/zh-CN/component/layout\"}},[_vm._v(\"\\r\\n       ui文档\\r\\n   \")]),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"15px\"}},[_c('el-tag',[_vm._v(\" 夺宝奇兵 \")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"合约地址 \"+_vm._s(_vm.onewinner_address))]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"第 \"+_vm._s(_vm.round)+\" 轮\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"剩余时间\"+_vm._s(_vm.less_time_show))]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"每注价格\"+_vm._s(_vm.bet_price)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"上期中奖金\"+_vm._s(_vm.last_winner_reward)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"上期中奖人\"+_vm._s(_vm.last_winner_address))]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"夺宝奖池\"+_vm._s(_vm.winner_reward)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"中奖推荐人分红\"+_vm._s(_vm.winner_inviter_reward)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"本期中奖人\"+_vm._s(_vm.winner_address))]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"上次空投奖池\"+_vm._s(_vm.last_airdrop)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"上次空投得主\"+_vm._s(_vm.last_airdrop_address)+\" \")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"空投奖池\"+_vm._s(_vm.airdrop)+\" eth   每次投注超过0.1eth 有0.1%机率获得  幸运号 \"+_vm._s(_vm.luck_num))]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"我的投注\"+_vm._s(_vm.my_bet_count)+\" \")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"总投注\"+_vm._s(_vm.total_bet_count)+\" \")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"中奖概率\"+_vm._s(_vm.my_win_rate)+\"% \")]),_c('br'),_vm._v(\" \"),_c('el-input-number',{attrs:{\"step\":1,\"label\":\"投注数量\"},model:{value:(_vm.bet_count),callback:function ($$v) {_vm.bet_count=$$v},expression:\"bet_count\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.send_bet(true)}}},[_vm._v(\"投注\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.send_bet(false)}}},[_vm._v(\"使用金库\")])],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"15px\"}},[_c('el-tag',[_vm._v(\" 账户信息 \")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"当前账户 \"+_vm._s(_vm.account_address))]),_c('br'),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user_name!=''),expression:\"user_name!=''\"}]},[_c('el-tag',[_vm._v(\"邀请链接 http://www.xxxxx.com/\"+_vm._s(_vm.user_name))]),_c('br')],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.user_name==''),expression:\"user_name==''\"}]},[_c('el-input',{attrs:{\"placeholder\":\"注册用户名\"},model:{value:(_vm.register_name),callback:function ($$v) {_vm.register_name=$$v},expression:\"register_name\"}}),_c('br'),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.send_register()}}},[_vm._v(\"注册\")]),_c('br')],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"15px\"}},[_c('el-tag',[_vm._v(\"我的金库 \"+_vm._s(_vm.my_vault)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"累计夺宝中奖 \"+_vm._s(_vm.my_jackpot_stat)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"累计空投中奖 \"+_vm._s(_vm.my_airdrop_stat)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"累计邀请返利 \"+_vm._s(_vm.my_invite_reward_stat)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"累计邀请夺宝分红 \"+_vm._s(_vm.my_invite_jackpot_reward_stat)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"累计邀请空投分红 \"+_vm._s(_vm.my_invate_airdrop_reward_stat)+\" eth\")]),_c('br'),_vm._v(\" \"),_c('el-tag',[_vm._v(\"累计ess空投 \"+_vm._s(_vm.my_ess_airdrop_stat)+\" ess\")]),_c('br'),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.send_withdraw()}}},[_vm._v(\"提现\")])],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin\":\"15px\"}},_vm._l((this.tx_list),function(tx,index){return _c('div',[_vm._v(\"\\r\\n            地址：\"+_vm._s(tx.address)+\"  投注：\"+_vm._s(tx.bet_count)+\" 时间：\"+_vm._s(tx.bet_time)+\" 幸运号：\"+_vm._s(tx.luck_num)+\" 是否中奖:\"+_vm._s(tx.win)+\"\\r\\n        \")])}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-dcbaa58e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/demo/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dcbaa58e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dcbaa58e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dcbaa58e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/demo/index.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n<div class=\"content\"><div class=\"wrap\" style=\"height:1000px;\">\r\n   这是首页这是首页\r\n\r\n   <a target=_blank href=\"http://element.eleme.io/#/zh-CN/component/layout\">\r\n       ui文档\r\n   </a>\r\n\r\n\r\n    <el-row style=\"margin:15px;\">\r\n        <el-tag> 夺宝奇兵 </el-tag><br />\r\n        <el-tag>合约地址 {{onewinner_address}}</el-tag><br />\r\n        <el-tag>第 {{round}} 轮</el-tag><br />\r\n        <el-tag>剩余时间{{less_time_show}}</el-tag><br />\r\n        <el-tag>每注价格{{bet_price}} eth</el-tag><br />\r\n\r\n\r\n        <el-tag>上期中奖金{{last_winner_reward}} eth</el-tag><br />\r\n        <el-tag>上期中奖人{{last_winner_address}}</el-tag><br />\r\n        <el-tag>夺宝奖池{{winner_reward}} eth</el-tag><br />\r\n        <el-tag>中奖推荐人分红{{winner_inviter_reward}} eth</el-tag><br />\r\n        <el-tag>本期中奖人{{winner_address}}</el-tag><br />\r\n\r\n\r\n        <el-tag>上次空投奖池{{last_airdrop}} eth</el-tag><br />\r\n        <el-tag>上次空投得主{{last_airdrop_address}} </el-tag><br />\r\n        <el-tag>空投奖池{{airdrop}} eth   每次投注超过0.1eth 有0.1%机率获得  幸运号 {{luck_num}}</el-tag><br />\r\n\r\n        <el-tag>我的投注{{my_bet_count}} </el-tag><br />\r\n        <el-tag>总投注{{total_bet_count}} </el-tag><br />\r\n        <el-tag>中奖概率{{my_win_rate}}% </el-tag><br />\r\n\r\n        <el-input-number v-model=\"bet_count\" :step=\"1\" label=\"投注数量\"></el-input-number>\r\n        <el-button v-on:click=\"send_bet(true)\">投注</el-button>\r\n        <el-button v-on:click=\"send_bet(false)\">使用金库</el-button>\r\n    </el-row>\r\n\r\n\r\n    <el-row style=\"margin:15px;\">\r\n        <el-tag> 账户信息 </el-tag><br />\r\n        <el-tag>当前账户 {{account_address}}</el-tag><br />\r\n        <div v-show=\"user_name!=''\">\r\n        <el-tag>邀请链接 http://www.xxxxx.com/{{user_name}}</el-tag><br />\r\n        </div>\r\n        <div v-show=\"user_name==''\">\r\n        <el-input v-model=\"register_name\" placeholder=\"注册用户名\"></el-input><br />\r\n        <el-button v-on:click=\"send_register()\">注册</el-button><br />\r\n        </div>\r\n    </el-row>\r\n\r\n\r\n    <el-row style=\"margin:15px;\">\r\n\r\n        <el-tag>我的金库 {{my_vault}} eth</el-tag><br />\r\n        <el-tag>累计夺宝中奖 {{my_jackpot_stat}} eth</el-tag><br />\r\n        <el-tag>累计空投中奖 {{my_airdrop_stat}} eth</el-tag><br />\r\n        <el-tag>累计邀请返利 {{my_invite_reward_stat}} eth</el-tag><br />\r\n        <el-tag>累计邀请夺宝分红 {{my_invite_jackpot_reward_stat}} eth</el-tag><br />\r\n        <el-tag>累计邀请空投分红 {{my_invate_airdrop_reward_stat}} eth</el-tag><br />\r\n        <el-tag>累计ess空投 {{my_ess_airdrop_stat}} ess</el-tag><br />\r\n\r\n        <el-button v-on:click=\"send_withdraw()\">提现</el-button>\r\n    </el-row>\r\n\r\n    <el-row style=\"margin:15px;\">\r\n        <div v-for=\"(tx,index) in this.tx_list\">\r\n            地址：{{tx.address}}  投注：{{tx.bet_count}} 时间：{{tx.bet_time}} 幸运号：{{tx.luck_num}} 是否中奖:{{tx.win}}\r\n        </div>\r\n    </el-row>\r\n\r\n</div></div>\r\n\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n  components: {\r\n  },\r\n  data () {\r\n    return {\r\n        decimals:4, //显示的精度\r\n\r\n        onewinner_address:onewinnerAddress,\r\n        account_address:\"\",  //当前账户地址\r\n\r\n        round:0,\r\n        end_time:0,\r\n        less_time:0,\r\n        less_time_show:\"\",\r\n        bet_price:0,\r\n        bet_count:0,\r\n        airdrop:0,\r\n        luck_num:0,\r\n        last_airdrop:0,\r\n        last_airdrop_address:\"none\",\r\n        winner_address:\"none\",\r\n        winner_reward:0,\r\n        winner_inviter_reward:0,\r\n        last_winner_address:\"none\",\r\n        last_winner_reward:0,\r\n        total_bet_count:0,\r\n        my_bet_count:0,\r\n        my_win_rate:0,\r\n        user_name:\"\",\r\n        register_name:\"\",\r\n        my_vault:0,\r\n        my_jackpot_stat:0,\r\n        my_airdrop_stat:0,\r\n        my_invite_reward_stat:0,\r\n        my_invite_jackpot_reward_stat:0,\r\n        my_invate_airdrop_reward_stat:0,\r\n        my_ess_airdrop_stat:0,\r\n\r\n        //交易列表\r\n        tx_list:[],\r\n\r\n        //定时器\r\n        timer:null,\r\n    }\r\n  },\r\n  mounted () {\r\n\r\n\r\n          if(!checkweb3()){\r\n              console.log(\"钱包状态异常\");\r\n              return false;\r\n          }\r\n\r\n          var _vue = this;\r\n          //任务的队列，txrecipet=>funcname表示，轮询到对应的tx时，执行合约的方法\r\n          window.eventQueue = {};\r\n          //轮询区块信息，回调事件\r\n          window.loopBlock = function(lastblock){\r\n              web3.eth.getBlockNumber().then(function(newblock){\r\n                  //只处理新块\r\n                  if(newblock>lastblock){\r\n                      _vue.init_round();\r\n                      _vue.load_account();\r\n                      _vue.load_vault();\r\n                      _vue.load_txlist();\r\n                      web3.eth.getBlock(newblock).then(function(blockinfo){\r\n                          console.log(blockinfo);\r\n                          console.log(eventQueue);\r\n                          try{\r\n                              for(var i=0;i<blockinfo.transactions.length;i++){\r\n                                  var txhash = blockinfo.transactions[i];\r\n                                  for(var queuehash in eventQueue){\r\n                                      if(txhash==queuehash){\r\n                                          var funcname = eventQueue[queuehash];\r\n                                          delete eventQueue[queuehash];\r\n                                          try{\r\n                                              eval(funcname+\"('\"+txhash+\"')\");\r\n                                          }catch(ex){\r\n                                              console.log(ex);\r\n                                              console.log(funcname+\"不存在\");\r\n                                          }\r\n                                      }\r\n                                  }\r\n                              }\r\n                          }catch (ex) {\r\n                          }\r\n                          loopBlock(newblock);\r\n                      });\r\n                  }\r\n                  else\r\n                  {\r\n                      loopBlock(newblock);\r\n                  }\r\n              });\r\n          };\r\n          loopBlock(0);\r\n          //end loop\r\n\r\n        _vue.account_address = window.eth_account;\r\n        _vue.init_round();\r\n        _vue.load_account();\r\n        _vue.load_vault();\r\n        _vue.load_txlist();\r\n    },\r\n   methods:{\r\n       send_withdraw(){\r\n           if(!checkweb3()){\r\n               console.log(\"钱包状态异常\");\r\n               return false;\r\n           }\r\n           console.log(\"提现\");\r\n           var price = 0;\r\n           var recommend_gas_price = \"20\";\r\n           onewinnerContract.methods.withdraw().send({from: eth_account,value:price,gasPrice:web3.utils.toWei(recommend_gas_price,\"gwei\")},function(err,txreceipt){\r\n               if(!err){\r\n                   eventQueue[txreceipt] = \"withdraw_done\";\r\n                   window.withdraw_done = function(txhash){\r\n                       console.log(\"提现成功\"+txhash);\r\n                   };\r\n               }\r\n           });\r\n       },\r\n       send_register(){\r\n           if(!checkweb3()){\r\n               console.log(\"钱包状态异常\");\r\n               return false;\r\n           }\r\n           console.log(\"注册\");\r\n           var _vue = this;\r\n           var price = web3.utils.toWei(\"0.1\",\"ether\");\r\n           var recommend_gas_price = \"20\";\r\n           var invite_id = localStorage.getItem(\"onewinner_invite\")&&!isNaN(localStorage.getItem(\"onewinner_invite\"))?parseInt(localStorage.getItem(\"onewinner_invite\")):0;\r\n           onewinnerContract.methods.register(_vue.register_name,invite_id).send({from: eth_account,value:price,gasPrice:web3.utils.toWei(recommend_gas_price,\"gwei\")},function(err,txreceipt){\r\n               if(!err){\r\n                   eventQueue[txreceipt] = \"register_done\";\r\n                   window.register_done = function(txhash){\r\n                       console.log(\"注册成功\"+txhash);\r\n                   };\r\n               }\r\n           });\r\n       },\r\n      send_bet(usewallet){\r\n          if(!checkweb3()){\r\n              console.log(\"钱包状态异常\");\r\n              return false;\r\n          }\r\n           console.log(\"下注\");\r\n           var _vue = this;\r\n           var price = web3.utils.toWei((_vue.bet_count * _vue.bet_price).toString(),\"ether\");\r\n           if(!usewallet){\r\n               price = 0;\r\n           }\r\n           var invite_id = localStorage.getItem(\"onewinner_invite\")&&!isNaN(localStorage.getItem(\"onewinner_invite\"))?parseInt(localStorage.getItem(\"onewinner_invite\")):0;\r\n           var recommend_gas_price = \"20\";\r\n          onewinnerContract.methods.bet(_vue.bet_count,invite_id).send({from: eth_account,value:price,gasPrice:web3.utils.toWei(recommend_gas_price,\"gwei\")},function(err,txreceipt){\r\n               if(!err){\r\n                   eventQueue[txreceipt] = \"bet_done\";\r\n                   window.bet_done = function(txhash){\r\n                       web3.eth.getTransactionReceipt(txhash,function(err,txreceipt){\r\n                           console.log(txreceipt);\r\n                           if(txreceipt.logs.length==1)\r\n                           {\r\n\r\n                               console.log(\"参与了空投抽奖，幸运号：\"+web3.utils.hexToNumber(txreceipt.logs[0].data));\r\n                           }\r\n                           else if(txreceipt.logs.length==2){\r\n                               console.log(\"中奖了，幸运号：\"+web3.utils.hexToNumber(txreceipt.logs[0].data));\r\n                           }\r\n                       });\r\n                       console.log(\"下注成功\"+txhash);\r\n                   };\r\n               }\r\n           });\r\n     },\r\n\r\n     //刷新token账户信息\r\n     init_round(){\r\n         var _vue = this;\r\n         //加载邀请人\r\n         var inviter_name = \"ess\";  //名字将从路由中获得\r\n         onewinnerContract.methods.getAddressByUserName(inviter_name).call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 var inviter_address = value.valueOf();\r\n                 onewinnerContract.methods.getUserIdByAddress(inviter_address).call(null,function(err,value){\r\n                     if(!err)\r\n                     {\r\n                         var inviter_id = value.valueOf();\r\n                         if(inviter_id>0)\r\n                         localStorage.setItem(\"onewinner_invite\",inviter_id);\r\n                         console.log(inviter_id);\r\n                     }\r\n                 });\r\n             }\r\n         });\r\n\r\n\r\n         //加载第x轮\r\n         onewinnerContract.methods.round().call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.round = value.valueOf();\r\n                 _vue.load_round(_vue.round);\r\n             }\r\n         });\r\n\r\n         onewinnerContract.methods.betPrice().call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.bet_price = web3.utils.fromWei(value.valueOf(),\"ether\");\r\n             }\r\n         });\r\n\r\n\r\n     },\r\n     load_round(round_index){\r\n         //倒计时\r\n         var _vue = this;\r\n         onewinnerContract.methods.getEndTime(round_index).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.end_time = value.valueOf();\r\n                 if(_vue.end_time>0){\r\n                     window.nowTime = Math.floor(new Date().getTime()/1000);\r\n                     _vue.less_time = _vue.end_time - nowTime;\r\n                     if(!_vue.timer&&_vue.less_time>0){\r\n                         _vue.timer = setInterval(function(){\r\n                             _vue.less_time--;\r\n                             var less_time = _vue.less_time;\r\n                             var day = Math.floor(less_time/(3600*24));\r\n                             less_time = less_time%(3600*24);\r\n                             var hour = Math.floor(less_time/3600);\r\n                             less_time = less_time%3600;\r\n                             var minute = Math.floor(less_time/60);\r\n                             var second = less_time%60;\r\n                             _vue.less_time_show = day+\"天\"+hour+\"小时\"+minute+\"分钟\"+second+\"秒\";\r\n                             if(_vue.less_time<=0){\r\n                                 clearInterval(_vue.timer);\r\n                             }\r\n                         },1000);\r\n                     }else{\r\n                      //本轮次结束，要开启新盘\r\n                        console.log(\"本轮次结束，要开启新盘\");\r\n\r\n                     }\r\n                 }\r\n             }\r\n         });\r\n         //上期中奖奖金\r\n         if(round_index>1)\r\n         onewinnerContract.methods.getReward(round_index-1).call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.last_winner_reward = Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //上期中奖人\r\n         if(round_index>1)\r\n         onewinnerContract.methods.winner(round_index-1).call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.last_winner_address = value.valueOf();\r\n             }\r\n         });\r\n         //夺宝奖池\r\n         onewinnerContract.methods.getReward(round_index).call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.winner_reward = Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n                 _vue.winner_inviter_reward =   Number(_vue.winner_reward * 0.2 * 0.25).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //中奖人\r\n         onewinnerContract.methods.isRun(round_index).call(null,function(err,value){\r\n             if(!err&&!value.valueOf())\r\n             {\r\n                 onewinnerContract.methods.winner(round_index).call(null,function(err,value){\r\n                     if(!err)\r\n                     {\r\n                         _vue.winner_address =  value.valueOf();\r\n                     }\r\n                 });\r\n             }\r\n         });\r\n\r\n         //上次的空投\r\n         onewinnerContract.methods.airdropWinner().call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 if(value.valueOf()!=0x0)\r\n                 _vue.last_airdrop_address =  value.valueOf();\r\n             }\r\n         });\r\n         onewinnerContract.methods.airdropWinnerReward().call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.last_airdrop =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //本次空投\r\n         onewinnerContract.methods.airdrop().call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.airdrop =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //空投幸运号\r\n         onewinnerContract.methods.luckNum().call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.luck_num =  value.valueOf();\r\n             }\r\n         });\r\n         //我的投注\r\n         onewinnerContract.methods.getBetCount(round_index).call(null,function(err,value){\r\n             if(!err)\r\n             {\r\n                 _vue.total_bet_count =  value.valueOf();\r\n                 onewinnerContract.methods.getMyBetCount(round_index,eth_account).call(null,function(err,value){\r\n                     if(!err)\r\n                     {\r\n                         _vue.my_bet_count =  value.valueOf();\r\n                         _vue.my_win_rate = Math.round(_vue.my_bet_count * 100 / _vue.total_bet_count);\r\n                     }\r\n                 });\r\n             }\r\n         });\r\n\r\n     },\r\n     //加载账户信息\r\n     load_account(){\r\n         var _vue = this;\r\n         //用户名\r\n         onewinnerContract.methods.getUserNameByAddress(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.user_name = value.valueOf();\r\n             }\r\n         });\r\n     },\r\n     //加载交易列表\r\n     load_txlist(){\r\n           var _vue = this;\r\n         onewinnerContract.methods.getTxList(50).call(null,function(err,value){\r\n             if(!err){\r\n\r\n                 console.log(value);\r\n                 console.log(\"列表\");\r\n                 _vue.tx_list = [];\r\n                 var _tx_list_data = value.valueOf();\r\n                 for(var i=0;i<_tx_list_data[0].length;i++){\r\n                     var _address = _tx_list_data[0][i];\r\n\r\n                     if(_address==\"0x0000000000000000000000000000000000000000\"){\r\n                         break;\r\n                     }\r\n                     var _betCount = _tx_list_data[1][i];\r\n                     var _timeStamp = _tx_list_data[2][i];\r\n                     var _betTime = new Date(_timeStamp*1000).format(\"yyyy-MM-dd hh:mm:ss\");\r\n                     var _luckNum = _tx_list_data[3][i];\r\n                     var _win = _tx_list_data[4][i];\r\n                     _vue.tx_list[i] = {\"address\":_address,\"bet_count\":_betCount,\"bet_time\":_betTime,\"luck_num\":_luckNum,\"win\":_win};\r\n                 }\r\n                 console.log(_vue.tx_list);\r\n             }\r\n         });\r\n     },\r\n     //加载我的金库\r\n     load_vault(){\r\n           var _vue = this;\r\n           //我的金库\r\n         onewinnerContract.methods.myVault(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_vault = Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n             else\r\n                 console.log(err);\r\n\r\n         });\r\n         //累计夺宝中奖\r\n         onewinnerContract.methods.getStatJackpotReward(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_jackpot_stat =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //累计空投中奖\r\n         onewinnerContract.methods.getStatAirdropReward(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_airdrop_stat =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //返利\r\n         onewinnerContract.methods.getStatInviterReward(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_invite_reward_stat =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //夺宝分红\r\n         onewinnerContract.methods.getStatInviterJackpotReward(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_invite_jackpot_reward_stat =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //空投分红\r\n         onewinnerContract.methods.getStatInviterAirdropReward(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_invate_airdrop_reward_stat =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n         //ess空投\r\n         onewinnerContract.methods.getStatEssAirdropReward(eth_account).call(null,function(err,value){\r\n             if(!err){\r\n                 _vue.my_ess_airdrop_stat =  Number(web3.utils.fromWei(value.valueOf(),\"ether\")).toFixed(_vue.decimals);\r\n             }\r\n         });\r\n\r\n     }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    @fs-normal:18px;\r\n    @fs-small:16px;\r\n    @fs-smaller:14px;\r\n    @fs-middle:20px;\r\n    @fs-big:24px;\r\n    @fs-biger:1rem;\r\n    @color-main:#f8d469;\r\n    @bg-gradient1:#24396c;\r\n    @bg-gradient2:#1c2d57;\r\n    .wrap{\r\n        padding-top: 40px;\r\n    }\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/demo/index.vue"],"sourceRoot":""}